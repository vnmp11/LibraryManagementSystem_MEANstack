<div class="page-header">
    <h3 class="page-title">
      MANAGE USERS
    </h3>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="javascript:;">Manage Users</a></li>
        <li class="breadcrumb-item active" aria-current="page">Add User</li>
      </ol>
    </nav>
</div>
<div class="col-12 grid-margin">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Add A New User</h4>
        <form [formGroup]="addUserForm" class="form-sample" (ngSubmit)="post()">
          <p class="card-description">
            Personal info
          </p>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group row">
                <label class="col-sm-3 col-form-label required">Name</label>
                <div class="col-sm-9">
                  <input id="name" formControlName="name" [(ngModel)]="newUser.name" type="text" class="form-control" name="name" [ngClass]="{ 'is-invalid': (isFormSubmitted && addUserForm.controls.name.errors) || (!addUserForm.controls.name.pristine && addUserForm.controls.name.invalid) }">
                  <div class="invalid-feedback" *ngIf="(isFormSubmitted && addUserForm.controls.name.errors) || (!addUserForm.controls.name.pristine && addUserForm.controls.name.invalid)">
                  <div *ngIf="addUserForm.controls.name.errors.required">Name is required</div>
                  </div>
                </div>

              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group row">
                <label class="col-sm-3 col-form-label required">Gender</label>
                <div class="col-sm-3 form-check ">
                    <label class="form-check-label">
                      <input type="radio" class="form-check-input" name="membershipRadios" id="Male" value="" checked>
                      Male
                      <i class="input-helper"></i>
                    </label>
                  </div>
                  <div class="col-sm-3 form-check">
                    <label class="form-check-label">
                      <input type="radio" class="form-check-input" name="membershipRadios" id="Female" value="" checked>
                      Female
                      <i class="input-helper"></i>
                    </label>
                  </div>
                  <div class="col-sm-3 form-check">
                    <label class="form-check-label">
                      <input type="radio" class="form-check-input" name="membershipRadios" id="Other" value="" checked>
                      Other
                      <i class="input-helper"></i>
                    </label>
                  </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group row">
                <label class="col-sm-3 col-form-label required">Phone No.</label>
                <div class="col-sm-9">
                  <input id="phone" type="tel" formControlName="phone" class="form-control" [(ngModel)]="newUser.phone" name="phone" [ngClass]="{ 'is-invalid': (isFormSubmitted && addUserForm.controls.phone.errors) || (!addUserForm.controls.phone.pristine && addUserForm.controls.phone.invalid) }">
                  
                  <div class="invalid-feedback"
                  *ngIf="(isFormSubmitted && addUserForm.controls.phone.errors) || (!addUserForm.controls.phone.pristine && addUserForm.controls.phone.invalid)">
                  <div *ngIf="addUserForm.controls.phone.errors.required">Phone number is required</div>

                </div>
                </div>
              </div>
            </div>
        
            <div class="col-md-6">
              <div class="form-group row">
                <label class="col-sm-3 col-form-label required">Password</label>
                <div class="col-sm-9">
                  <input id="password" type="password" formControlName="password" class="form-control" [(ngModel)]="newUser.password" name="password" 
                  [ngClass]="{ 'is-invalid': (isFormSubmitted && addUserForm.controls.password.errors) || (!addUserForm.controls.password.pristine && addUserForm.controls.password.invalid) }">

                  <div class="invalid-feedback" *ngIf="(isFormSubmitted && addUserForm.controls.password.errors) || (!addUserForm.controls.password.pristine && addUserForm.controls.password.invalid) ">
                        <div *ngIf="addUserForm.controls.password.errors.required">Password is required</div>
                        <div *ngIf="addUserForm.controls.password.errors.minlength">Minimum 6 characters required</div>
                  </div>
                </div>
              </div>
            </div>

          </div>
      
          <div class="row">
            <div class="col-md-6">
              <div class="form-group row">
                <label class="col-sm-3 col-form-label required">Email</label>
                <div class="col-sm-9">
                  <input id="email" type="text" formControlName="email" class="form-control" [(ngModel)]="newUser.email" name="email"
                  [ngClass]="{ 'is-invalid': (isFormSubmitted && addUserForm.controls.email.errors) || (!addUserForm.controls.email.pristine && addUserForm.controls.email.invalid) }">
                    
                <div class="invalid-feedback" *ngIf="(isFormSubmitted && addUserForm.controls.email.errors) || (!addUserForm.controls.email.pristine && addUserForm.controls.email.invalid)">
                  <div *ngIf="addUserForm.controls.email.errors.required">Email is required</div>
                  <div *ngIf="addUserForm.controls.email.errors.pattern">Enter valid email</div>

                </div>
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group row">
                <label class="col-sm-3 col-form-label required">Role</label>
                <div class="col-sm-9">
                  <select place class="form-control" formControlName="role" id="role" [ngClass]="{ 'is-invalid': (isFormSubmitted && addUserForm.controls.role.errors) || (!addUserForm.controls.role.pristine && addUserForm.controls.role.invalid) }">
                    <option value="" disabled selected hidden> ----Please select----</option>
                    <option>Reader</option>
                    <option>Librarian</option>
                  </select>

                  <div class="invalid-feedback" *ngIf="(isFormSubmitted && addUserForm.controls.role.errors) || (!addUserForm.controls.role.pristine && addUserForm.controls.role.invalid)">
                  <div *ngIf="addUserForm.controls.role.errors.required">Role must be selected</div>
                  </div>

                </div>
              </div>
            </div>

           
          
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group row">
                <label class="col-sm-3 col-form-label required">DOB</label>
                <div class="col-sm-9">
                  <input formControlName="dob" id="dob" type="date" class="form-control" [(ngModel)]="newUser.dob" name="dob" min="1980-01-01" max="2012-01-01" [ngClass]="{ 'is-invalid': (isFormSubmitted && addUserForm.controls.dob.errors) || (!addUserForm.controls.dob.pristine && addUserForm.controls.dob.invalid) }"/>
                  <div class="invalid-feedback" *ngIf="(isFormSubmitted && addUserForm.controls.dob.errors) || (!addUserForm.controls.dob.pristine && addUserForm.controls.dob.invalid)">
                    <div *ngIf="addUserForm.controls.dob.errors.required">DOB must be selected</div>
                  </div>
  
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group row">
                <label class="col-sm-3 col-form-label ">Address</label>
                <div class="col-sm-9">
                  <input id="address" type="text" formControlName="address" class="form-control" [(ngModel)]="newUser.address" name="address">           
                
                </div>
              </div>
            </div>
           
            
            <!-- <div class="col-md-6">
              <div class="form-group row">
                <label class="col-sm-3 col-form-label">Image</label>
                <div class="input-group col-sm-9">
                  <input type="file" id="browse" name="fileupload" style="display: none" (change)="Handlechange()"/>
                  <input type="text" id="filename" class="form-control file-upload-info"  placeholder="Upload Image" (change)="selectImage($event)">
                  <span class="input-group-append">
                    <button (click)="HandleBrowseClick()" class="file-upload-browse btn btn-primary btn-fw" type="button">Upload</button>
                  </span>
                </div>
              </div>
            </div>
          -->
          </div>
          
          <div class="float-right">
            <button type="reset" (click)="post();" type="button" class="btn btn-primary btn-fw">
              <i class="mdi mdi-upload btn-icon-prepend"></i>
              Add User
            </button>

            <a type="submit" class="btn btn-danger btn-sm" (click)="closeModal('close')"
            *ngIf="urlParams">Cancel</a>
          </div>
         
       
        </form>
      </div>
    </div>
</div>
